<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test Checkout SDK</title>
  <script src="https://cdn.paymentez.com/ccapi/sdk/payment_checkout_stable.min.js" charset="UTF-8"></script>
</head>
<body>
  <button id="testBtn">Abrir Modal</button>
  <pre id="response"></pre>
  <script>
    const btn = document.getElementById("testBtn");
    const responseBox = document.getElementById("response");

    const checkout = new PaymentCheckout.modal({
      client_app_code: "TESTECUADORSTG-EC-CLIENT",
      client_app_key: "d4pUmVHgVpw2mJ66rWwtfWaO2bAWV6",
      locale: "es",
      env_mode: "stg",
      onResponse: function(response) {
        console.log("üîÅ Respuesta SDK:", response);
        responseBox.textContent = JSON.stringify(response, null, 2);
      }
    });

    btn.addEventListener("click", function () {
      const data = {
        user: {
          id: "test-user-html-01",
          email: "htmltest@correo.com",
          country: "EC"
        },
        amount: 1.00,
        currency: "USD",
        description: "Validaci√≥n",
        reference: "ref_" + Date.now(),
        installments: 1,
        billing: {
          first_name: "HTML",
          last_name: "Test",
          address: "Av Siempre Viva",
          city: "Quito",
          zip_code: "170101",
          country: "EC",
          phone: "+593000000000"
        }
      };

      console.log("üßæ Enviado al SDK:", JSON.stringify(data, null, 2));
      checkout.open(data);
    });
  </script>
</body>
</html>
